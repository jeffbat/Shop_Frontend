{"ast":null,"code":"import _toConsumableArray from\"/Users/ebat/dev/ecommerce/backend/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/ebat/dev/ecommerce/backend/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{useDispatch,useSelector}from'react-redux';import{Link}from'react-router-dom';import{Row,Col,Image,ListGroup,Button,Card,Form}from'react-bootstrap';import Rating from'../components/Rating';import Loader from'../components/Loader';import Message from'../components/Message';import{listProductDetails}from'../actions/productActions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ProductScreen=function ProductScreen(_ref){var match=_ref.match,history=_ref.history;var _useState=useState(1),_useState2=_slicedToArray(_useState,2),qty=_useState2[0],setQty=_useState2[1];var dispatch=useDispatch();var productDetails=useSelector(function(state){return state.productDetails;});var loading=productDetails.loading,error=productDetails.error,product=productDetails.product;useEffect(function(){dispatch(listProductDetails(match.params.id));},[dispatch,match]);var addToCartHandler=function addToCartHandler(){history.push(\"/cart/\".concat(match.params.id,\"?qty=\").concat(qty));};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"btn btn-dark my-3\",children:\"Go Back\"}),loading?/*#__PURE__*/_jsx(Loader,{}):error?/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:error}):/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsx(Image,{src:product.image,alt:product.name,fluid:true})}),/*#__PURE__*/_jsx(Col,{md:3,children:/*#__PURE__*/_jsxs(ListGroup,{variant:\"flush\",children:[/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsx(\"h3\",{children:product.name})}),/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsx(Rating,{value:product.rating,text:\"\".concat(product.numReviews,\" reviews\"),color:'#f8e825'})}),/*#__PURE__*/_jsxs(ListGroup.Item,{children:[\"Price $\",product.price]}),/*#__PURE__*/_jsxs(ListGroup.Item,{children:[\"Description: \",product.description]})]})}),/*#__PURE__*/_jsx(Col,{md:3,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(ListGroup,{variant:\"flush\",children:[/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:\"Price:\"}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(\"strong\",{children:[\"$\",product.price]})})]})}),/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:\"Status:\"}),/*#__PURE__*/_jsx(Col,{children:product.countInStock>0?'In Stock':'Out of Stock'})]})}),product.countInStock>0&&/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:\"Qty\"}),/*#__PURE__*/_jsx(Col,{xs:\"auto\",className:\"my-1\",children:/*#__PURE__*/_jsx(Form.Control,{as:\"select\",value:qty,onChange:function onChange(e){return setQty(e.target.value);},children:_toConsumableArray(Array(product.countInStock).keys()).map(function(x){return/*#__PURE__*/_jsx(\"option\",{value:x+1,children:x+1},x+1);})})})]})}),/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsx(Button,{onClick:addToCartHandler,className:\"btn-block\",disabled:product.countInStock===0,type:\"button\",children:\"Add to cart\"})})]})})})]})]});};export default ProductScreen;","map":{"version":3,"sources":["/Users/ebat/dev/ecommerce/backend/frontend/src/screens/ProductScreen.js"],"names":["React","useState","useEffect","useDispatch","useSelector","Link","Row","Col","Image","ListGroup","Button","Card","Form","Rating","Loader","Message","listProductDetails","ProductScreen","match","history","qty","setQty","dispatch","productDetails","state","loading","error","product","params","id","addToCartHandler","push","image","name","rating","numReviews","price","description","countInStock","e","target","value","Array","keys","map","x"],"mappings":"0UAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,OAASC,GAAT,CAAcC,GAAd,CAAmBC,KAAnB,CAA0BC,SAA1B,CAAqCC,MAArC,CAA6CC,IAA7C,CAAmDC,IAAnD,KAA+D,iBAA/D,CACA,MAAOC,CAAAA,MAAP,KAAmB,sBAAnB,CACA,MAAOC,CAAAA,MAAP,KAAmB,sBAAnB,CACA,MAAOC,CAAAA,OAAP,KAAoB,uBAApB,CACA,OAASC,kBAAT,KAAkC,2BAAlC,C,wFAEA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,MAAwB,IAArBC,CAAAA,KAAqB,MAArBA,KAAqB,CAAdC,OAAc,MAAdA,OAAc,CAC1C,cAAsBlB,QAAQ,CAAC,CAAD,CAA9B,wCAAOmB,GAAP,eAAYC,MAAZ,eAGA,GAAMC,CAAAA,QAAQ,CAAGnB,WAAW,EAA5B,CACA,GAAMoB,CAAAA,cAAc,CAAGnB,WAAW,CAAE,SAAAoB,KAAK,QAAIA,CAAAA,KAAK,CAACD,cAAV,EAAP,CAAlC,CACA,GAAQE,CAAAA,OAAR,CAAoCF,cAApC,CAAQE,OAAR,CAAiBC,KAAjB,CAAoCH,cAApC,CAAiBG,KAAjB,CAAwBC,OAAxB,CAAoCJ,cAApC,CAAwBI,OAAxB,CAEAzB,SAAS,CAAC,UAAM,CACZoB,QAAQ,CAACN,kBAAkB,CAACE,KAAK,CAACU,MAAN,CAAaC,EAAd,CAAnB,CAAR,CACH,CAFQ,CAEN,CAACP,QAAD,CAAWJ,KAAX,CAFM,CAAT,CAIA,GAAMY,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,EAAM,CAC3BX,OAAO,CAACY,IAAR,iBAAsBb,KAAK,CAACU,MAAN,CAAaC,EAAnC,iBAA6CT,GAA7C,GACH,CAFD,CAIA,mBACI,oCACI,KAAC,IAAD,EAAM,EAAE,CAAC,GAAT,CAAa,SAAS,CAAC,mBAAvB,qBADJ,CAEKK,OAAO,cACJ,KAAC,MAAD,IADI,CAEFC,KAAK,cACD,KAAC,OAAD,EAAS,OAAO,CAAC,QAAjB,UAA2BA,KAA3B,EADC,cAGH,MAAC,GAAD,yBACI,KAAC,GAAD,EAAK,EAAE,CAAE,CAAT,uBACQ,KAAC,KAAD,EAAO,GAAG,CAAEC,OAAO,CAACK,KAApB,CAA2B,GAAG,CAAEL,OAAO,CAACM,IAAxC,CAA8C,KAAK,KAAnD,EADR,EADJ,cAKI,KAAC,GAAD,EAAK,EAAE,CAAE,CAAT,uBACI,MAAC,SAAD,EAAW,OAAO,CAAC,OAAnB,wBACI,KAAC,SAAD,CAAW,IAAX,wBACI,oBAAKN,OAAO,CAACM,IAAb,EADJ,EADJ,cAKI,KAAC,SAAD,CAAW,IAAX,wBACI,KAAC,MAAD,EAAQ,KAAK,CAAEN,OAAO,CAACO,MAAvB,CAA+B,IAAI,WAAKP,OAAO,CAACQ,UAAb,YAAnC,CAAsE,KAAK,CAAE,SAA7E,EADJ,EALJ,cASI,MAAC,SAAD,CAAW,IAAX,sBACYR,OAAO,CAACS,KADpB,GATJ,cAaI,MAAC,SAAD,CAAW,IAAX,4BACkBT,OAAO,CAACU,WAD1B,GAbJ,GADJ,EALJ,cAyBI,KAAC,GAAD,EAAK,EAAE,CAAE,CAAT,uBACI,KAAC,IAAD,wBACI,MAAC,SAAD,EAAW,OAAO,CAAC,OAAnB,wBACI,KAAC,SAAD,CAAW,IAAX,wBACI,MAAC,GAAD,yBACI,KAAC,GAAD,qBADJ,cAEI,KAAC,GAAD,wBACI,8BAAUV,OAAO,CAACS,KAAlB,GADJ,EAFJ,GADJ,EADJ,cAUI,KAAC,SAAD,CAAW,IAAX,wBACI,MAAC,GAAD,yBACI,KAAC,GAAD,sBADJ,cAEI,KAAC,GAAD,WACKT,OAAO,CAACW,YAAR,CAAuB,CAAvB,CAA2B,UAA3B,CAAwC,cAD7C,EAFJ,GADJ,EAVJ,CAmBKX,OAAO,CAACW,YAAR,CAAuB,CAAvB,eACK,KAAC,SAAD,CAAW,IAAX,wBACI,MAAC,GAAD,yBACI,KAAC,GAAD,kBADJ,cAEI,KAAC,GAAD,EAAK,EAAE,CAAC,MAAR,CAAe,SAAS,CAAC,MAAzB,uBACI,KAAC,IAAD,CAAM,OAAN,EACI,EAAE,CAAC,QADP,CAEI,KAAK,CAAElB,GAFX,CAGI,QAAQ,CAAE,kBAACmB,CAAD,QAAOlB,CAAAA,MAAM,CAACkB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAb,EAHd,UAOQ,mBAAIC,KAAK,CAACf,OAAO,CAACW,YAAT,CAAL,CAA4BK,IAA5B,EAAJ,EAAwCC,GAAxC,CAA4C,SAACC,CAAD,qBACxC,eAAoB,KAAK,CAAEA,CAAC,CAAG,CAA/B,UACKA,CAAC,CAAG,CADT,EAAaA,CAAC,CAAG,CAAjB,CADwC,EAA5C,CAPR,EADJ,EAFJ,GADJ,EApBV,cA6CI,KAAC,SAAD,CAAW,IAAX,wBACI,KAAC,MAAD,EACI,OAAO,CAAEf,gBADb,CAEI,SAAS,CAAC,WAFd,CAGI,QAAQ,CAAGH,OAAO,CAACW,YAAR,GAAyB,CAHxC,CAII,IAAI,CAAC,QAJT,yBADJ,EA7CJ,GADJ,EADJ,EAzBJ,GAPZ,GADJ,CAqGH,CArHD,CAuHA,cAAerB,CAAAA,aAAf","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { Link } from 'react-router-dom'\nimport { Row, Col, Image, ListGroup, Button, Card, Form } from 'react-bootstrap'\nimport Rating from '../components/Rating'\nimport Loader from '../components/Loader'\nimport Message from '../components/Message'\nimport { listProductDetails} from '../actions/productActions'\n\nconst ProductScreen = ({ match, history }) => {\n    const [qty, setQty] = useState(1)\n\n\n    const dispatch = useDispatch()\n    const productDetails = useSelector( state => state.productDetails)\n    const { loading, error, product } = productDetails\n\n    useEffect(() => {\n        dispatch(listProductDetails(match.params.id))\n    }, [dispatch, match])\n\n    const addToCartHandler = () => {\n        history.push(`/cart/${match.params.id}?qty=${qty}`)\n    }\n\n    return (\n        <div>\n            <Link to='/' className='btn btn-dark my-3'>Go Back</Link>\n            {loading ?\n                <Loader />\n                : error\n                    ? <Message variant='danger'>{error}</Message>\n                :(\n                    <Row>\n                        <Col md={6}>\n                                <Image src={product.image} alt={product.name} fluid />\n                        </Col>\n\n                        <Col md={3}>\n                            <ListGroup variant='flush'>\n                                <ListGroup.Item>\n                                    <h3>{product.name}</h3>\n                                </ListGroup.Item>\n\n                                <ListGroup.Item>\n                                    <Rating value={product.rating} text={`${product.numReviews} reviews`} color={'#f8e825'}/>\n                                </ListGroup.Item>\n\n                                <ListGroup.Item>\n                                    Price ${product.price}\n                                </ListGroup.Item>\n\n                                <ListGroup.Item>\n                                    Description: {product.description}\n                                </ListGroup.Item>\n                            </ListGroup>\n                        </Col>\n\n                        <Col md={3}>\n                            <Card>\n                                <ListGroup variant='flush'>\n                                    <ListGroup.Item>\n                                        <Row>\n                                            <Col>Price:</Col>\n                                            <Col>\n                                                <strong>${product.price}</strong>\n                                            </Col>\n                                        </Row>\n                                    </ListGroup.Item>\n\n                                    <ListGroup.Item>\n                                        <Row>\n                                            <Col>Status:</Col>\n                                            <Col>\n                                                {product.countInStock > 0 ? 'In Stock' : 'Out of Stock'}\n                                            </Col>\n                                        </Row>\n                                    </ListGroup.Item>\n\n                                    {product.countInStock > 0 && (\n                                          <ListGroup.Item>\n                                              <Row>\n                                                  <Col>Qty</Col>\n                                                  <Col xs='auto' className='my-1'>\n                                                      <Form.Control\n                                                          as=\"select\"\n                                                          value={qty}\n                                                          onChange={(e) => setQty(e.target.value)}\n                                                      >\n                                                          {\n\n                                                              [...Array(product.countInStock).keys()].map((x) => (\n                                                                  <option key={x + 1} value={x + 1}>\n                                                                      {x + 1}\n                                                                  </option>\n                                                              ))\n                                                          }\n\n                                                      </Form.Control>\n                                                  </Col>\n                                              </Row>\n                                          </ListGroup.Item>\n                                      )}\n\n\n                                    <ListGroup.Item>\n                                        <Button\n                                            onClick={addToCartHandler}\n                                            className=\"btn-block\"\n                                            disabled ={product.countInStock === 0}\n                                            type=\"button\">\n                                            Add to cart\n                                            </Button>\n                                    </ListGroup.Item>\n\n\n                                </ListGroup>\n                            </Card>\n\n                        </Col>\n                    </Row>\n                )\n\n            }\n        </div>\n    )\n}\n\nexport default ProductScreen\n"]},"metadata":{},"sourceType":"module"}